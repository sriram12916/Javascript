<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/0470e676c4.js" crossorigin="anonymous"></script>
    <title>Main Page</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg">
                <div class="m-4">
                    <h1 style="letter-spacing: 5px; text-align: center; font-weight: 700;">FORM VALIDATION</h1>

                </div>
                <a href="index.html"><button type="button" class=" btn btn-primary "
                        style="margin-left: 45%;">Add</button></a>

                <div class="mt-5">
                    <table class="table-bordered">
                        <thead style="text-align: center;font-size: 18px; text-align: center;" class="table-border">
                            <tr style="background-color:rgb(154, 181, 231); ">
                                <th>S.NO</th>
                                <th>UserName</th>
                                <th> Your Email</th>
                                <th >Gender</th>
                                <th >PhoneNumber</th>
                                <th >Date Of Birth </th>
                                <th >Action</th>
                            </tr>
                        </thead>

                        <tbody id="studentInformation" 
                            style="text-align: center; font-size: 17px; font-weight: 600; background-color: white;">

                        </tbody>

                    </table>
                </div>

                <style>
                    table,
                    tr,
                    th,
                    tbody{
                        border: 1px solid;
                        padding: 5px 35px 5px 35px;
                        align-items: center;
                        /* background-color:rgb(154, 181, 231); */
                    }

                    body {
                        background-color: azure;
                    }
                </style>

            </div>
        </div>
    </div>

    <script>
       // script.js

function loadTableData() {
    var studentList = JSON.parse(localStorage.getItem('student'));

    if (studentList == null) {
        return;
    }

    var tableRows = "";

    for (let i = 0; i < studentList.length; i++) {
     student = studentList[i];
        var currentRows = "<tr><td>" + (i + 1) + "</td><td>" + student.name + "</td><td>" + student.email + "</td><td>" +
            student.gender + "</td><td>" + student.phonenumber + "</td><td>" + student.dateofbirth + "</td><td>" +
            `<i class="fa-solid fa-pen-to-square" style="color:green;padding:5px; cursor:pointer" onclick="editForm(${i})"></i>` +
            `<i class="fa-solid fa-trash" style="color:red;cursor:pointer" onclick="removeData(${i})"></i>` + "</td></tr>";
        tableRows += currentRows;
    }

    document.getElementById("studentInformation").innerHTML = tableRows;
}

function removeData(index) {
    var studentList = JSON.parse(localStorage.getItem('student'));
    studentList.splice(index, 1);
    localStorage.setItem('student', JSON.stringify(studentList));
    alert('Are You Sure to Remove the Details');
   
loadTableData();
 }

function editForm(index) {

    window.location.href = "index.html?id=" + index
}

    loadTableData();
    
    </script>

</body>

</html>
